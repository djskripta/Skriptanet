<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>TODO supply a title</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <script type="text/javascript" src="js/widgetLoader.js"></script>
    </head>
    <body>
        <div>TODO write content</div>
        <script type="text/javascript">
            function loadWidgetData(widget){
                var widget_id = widget.getAttribute('id');
                var params = new Array();
                params['id'] = widget_id;
                params['auth_token'] = 'auth_token';

                widgetRemote.setContent(widget, 'yoyoyo - YoYO');
                /*
                new xmlhtp_request('GET',api_url,params,function(response){
                    document.getElementById(widget.id).firstChild.innerHTML = response;
                });
                */
            }
            
            var myWidget = new uiWidget('foobarbingbang');
            var widgetRemote = new widgetController();
            
            
            widgetRemote.init(myWidget, function(widget){
                widgetRemote.skin(widget, function(){
                    console.log('foobar');
                });
                
                loadWidgetData(myWidget);
            });
        </script>
    </body>
</html>
